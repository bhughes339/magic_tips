



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Miscellaneous - Billy Hughes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.0284f74d.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../extra.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#programmer-utilities" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Billy Hughes" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Billy Hughes
            </span>
            <span class="md-header-nav__topic">
              
                Miscellaneous
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Billy Hughes" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Billy Hughes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../text_ed/" title="Text Editor Extensions" class="md-nav__link">
      Text Editor Extensions
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Useful MAGIC/CS Tips
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Useful MAGIC/CS Tips
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../data_structures/" title="Printing data structures" class="md-nav__link">
      Printing data structures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../debugging/" title="Debugging" class="md-nav__link">
      Debugging
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Miscellaneous
      </label>
    
    <a href="./" title="Miscellaneous" class="md-nav__link md-nav__link--active">
      Miscellaneous
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#programmer-utilities" title="Programmer Utilities" class="md-nav__link">
    Programmer Utilities
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#object-code-search-print" title="Object Code Search &amp; Print" class="md-nav__link">
    Object Code Search &amp; Print
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#find-the-address-of-a-database-and-open-it-to-the-prefix-of-your-choice" title="Find the address of a database and open it to the prefix of your choice" class="md-nav__link">
    Find the address of a database and open it to the prefix of your choice
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rebuild-adm-aa-for-a-pre-in-cancel" title="Rebuild ADM *AA for a PRE IN cancel" class="md-nav__link">
    Rebuild ADM *AA for a PRE IN cancel
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-view-command" title="Using the $VIEW command" class="md-nav__link">
    Using the $VIEW command
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-follow-program-in-magic-prints-procedure-pathways" title="Using the FOLLOW program in MAGIC (prints procedure pathways)" class="md-nav__link">
    Using the FOLLOW program in MAGIC (prints procedure pathways)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#server-status" title="Server Status" class="md-nav__link">
    Server Status
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#move-a-dpms-data-definitions-with-a-change-number-in-magic-npr" title="Move a DPM’s Data Definitions with a change number in MAGIC NPR" class="md-nav__link">
    Move a DPM’s Data Definitions with a change number in MAGIC NPR
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remove-a-change-number-from-magic-npr" title="Remove a change number from MAGIC NPR" class="md-nav__link">
    Remove a change number from MAGIC NPR
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-a-list-of-procedures-for-a-change-number-from-the-front-end" title="Get a list of procedures for a change number from the front end" class="md-nav__link">
    Get a list of procedures for a change number from the front end
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#job-off-a-procedure-from-the-front-end" title="Job off a procedure from the front end" class="md-nav__link">
    Job off a procedure from the front end
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#convert-datetime-to-s0-format" title="Convert date/time to S(0) format" class="md-nav__link">
    Convert date/time to S(0) format
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-command-return-values" title="Open Command Return Values" class="md-nav__link">
    Open Command Return Values
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-t-error-log-from-zfec" title="Access $T Error Log from %Z.fec" class="md-nav__link">
    Access $T Error Log from %Z.fec
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#find-large-spool-files-in-mis" title="Find large spool files in MIS" class="md-nav__link">
    Find large spool files in MIS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#firewall-tests-from-the-front-end" title="Firewall tests from the front end" class="md-nav__link">
    Firewall tests from the front end
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#print-to-screen-to-prevent-timeout" title="Print to screen to prevent timeout" class="md-nav__link">
    Print to screen to prevent timeout
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#read-list-of-values-one-per-line-from-a-local-file-into-slash" title="Read list of values (one per line) from a local file into slash" class="md-nav__link">
    Read list of values (one per line) from a local file into slash
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#convert-number-from-one-base-to-another" title="Convert number from one base to another" class="md-nav__link">
    Convert number from one base to another
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#efficient-forms-of-or-and-and" title="Efficient forms of OR and AND" class="md-nav__link">
    Efficient forms of OR and AND
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-link-in-magic" title="Using @Link in MAGIC" class="md-nav__link">
    Using @Link in MAGIC
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#physical-vs-logical-nexting" title="Physical vs Logical nexting" class="md-nav__link">
    Physical vs Logical nexting
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#programmer-utilities" title="Programmer Utilities" class="md-nav__link">
    Programmer Utilities
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#object-code-search-print" title="Object Code Search &amp; Print" class="md-nav__link">
    Object Code Search &amp; Print
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#find-the-address-of-a-database-and-open-it-to-the-prefix-of-your-choice" title="Find the address of a database and open it to the prefix of your choice" class="md-nav__link">
    Find the address of a database and open it to the prefix of your choice
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rebuild-adm-aa-for-a-pre-in-cancel" title="Rebuild ADM *AA for a PRE IN cancel" class="md-nav__link">
    Rebuild ADM *AA for a PRE IN cancel
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-view-command" title="Using the $VIEW command" class="md-nav__link">
    Using the $VIEW command
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-follow-program-in-magic-prints-procedure-pathways" title="Using the FOLLOW program in MAGIC (prints procedure pathways)" class="md-nav__link">
    Using the FOLLOW program in MAGIC (prints procedure pathways)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#server-status" title="Server Status" class="md-nav__link">
    Server Status
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#move-a-dpms-data-definitions-with-a-change-number-in-magic-npr" title="Move a DPM’s Data Definitions with a change number in MAGIC NPR" class="md-nav__link">
    Move a DPM’s Data Definitions with a change number in MAGIC NPR
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remove-a-change-number-from-magic-npr" title="Remove a change number from MAGIC NPR" class="md-nav__link">
    Remove a change number from MAGIC NPR
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-a-list-of-procedures-for-a-change-number-from-the-front-end" title="Get a list of procedures for a change number from the front end" class="md-nav__link">
    Get a list of procedures for a change number from the front end
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#job-off-a-procedure-from-the-front-end" title="Job off a procedure from the front end" class="md-nav__link">
    Job off a procedure from the front end
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#convert-datetime-to-s0-format" title="Convert date/time to S(0) format" class="md-nav__link">
    Convert date/time to S(0) format
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-command-return-values" title="Open Command Return Values" class="md-nav__link">
    Open Command Return Values
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-t-error-log-from-zfec" title="Access $T Error Log from %Z.fec" class="md-nav__link">
    Access $T Error Log from %Z.fec
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#find-large-spool-files-in-mis" title="Find large spool files in MIS" class="md-nav__link">
    Find large spool files in MIS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#firewall-tests-from-the-front-end" title="Firewall tests from the front end" class="md-nav__link">
    Firewall tests from the front end
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#print-to-screen-to-prevent-timeout" title="Print to screen to prevent timeout" class="md-nav__link">
    Print to screen to prevent timeout
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#read-list-of-values-one-per-line-from-a-local-file-into-slash" title="Read list of values (one per line) from a local file into slash" class="md-nav__link">
    Read list of values (one per line) from a local file into slash
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#convert-number-from-one-base-to-another" title="Convert number from one base to another" class="md-nav__link">
    Convert number from one base to another
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#efficient-forms-of-or-and-and" title="Efficient forms of OR and AND" class="md-nav__link">
    Efficient forms of OR and AND
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-link-in-magic" title="Using @Link in MAGIC" class="md-nav__link">
    Using @Link in MAGIC
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#physical-vs-logical-nexting" title="Physical vs Logical nexting" class="md-nav__link">
    Physical vs Logical nexting
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Miscellaneous</h1>
                
                <p>NOTE: Unless otherwise stated, these commands are designed to be used from the MAGIC front end.</p>
<h2 id="programmer-utilities">Programmer Utilities</h2>
<pre><code>$PRU(%)
</code></pre>

<h2 id="object-code-search-print">Object Code Search &amp; Print</h2>
<ol>
<li><code>$PRU(%)</code></li>
<li>Select <strong>3. SEARCH</strong></li>
<li>Search in background</li>
<li>When finished, back to front end</li>
<li><code>$COPY2DOS.FLAT(%.PRU.SEARCH,"&lt;FILE PATH&gt;")</code></li>
</ol>
<p>Example:</p>
<pre><code>$COPY2DOS.FLAT(%.PRU.SEARCH,&quot;C:\search.txt&quot;)
</code></pre>

<h2 id="find-the-address-of-a-database-and-open-it-to-the-prefix-of-your-choice">Find the address of a database and open it to the prefix of your choice</h2>
<pre><code>$FPN(^&lt;PREFIX&gt;)
</code></pre>

<p>To open to it:</p>
<pre><code>O(&lt;PREFIX&gt;,&lt;ADDRESS&gt;)
</code></pre>

<p>Example:</p>
<pre><code>OPEN ADM
$FPN(^:)
O(:,1N1013076)
</code></pre>

<h2 id="rebuild-adm-aa-for-a-pre-in-cancel">Rebuild ADM *AA for a PRE IN cancel</h2>
<pre><code>%ADM.PAT.zcus.dalt.rebuild.aa(&quot;AA&quot;,&quot;UNIT&quot;,&quot;EA&quot;,&quot;FAC&quot;)
</code></pre>

<p>Liverpool Womens / Countess:</p>
<pre><code>%ADM.PAT.zcus.rebuild.aa(&quot;AA&quot;,&quot;UNIT&quot;,&quot;EA&quot;)
</code></pre>

<p>Make sure to look at the procedure logic first, so you know what’s happening</p>
<h2 id="using-the-view-command">Using the $VIEW command</h2>
<p><code>V &lt;program&gt;</code> OR <code>$VIEW(&lt;program&gt;)</code></p>
<p>Program format: <code>%&lt;DPM&gt;.&lt;Procedure&gt;</code></p>
<p>If nothing is returned:</p>
<ul>
<li>Check to make sure there’s no custom front end running</li>
<li>Make sure object code exists for the program</li>
</ul>
<h2 id="using-the-follow-program-in-magic-prints-procedure-pathways">Using the FOLLOW program in MAGIC (prints procedure pathways)</h2>
<ol>
<li>Go to MA1:XXX.SWM</li>
<li><code>%FOLLOW2(mac,job)</code><ul>
<li>mac is the machine, and job is the job number.</li>
</ul>
</li>
</ol>
<p>Example:</p>
<pre><code>%FOLLOW2(&quot;MC1&quot;,1123)
</code></pre>

<h2 id="server-status">Server Status</h2>
<pre><code>$MCL(0)
</code></pre>

<h2 id="move-a-dpms-data-definitions-with-a-change-number-in-magic-npr">Move a DPM’s Data Definitions with a change number in MAGIC NPR</h2>
<p>In the Procedures section:</p>
<ul>
<li>DPM: The DPM you’d like to move</li>
<li>Procedures: zz:zz.just.data.def</li>
<li>Include Data Def: Y</li>
</ul>
<p><img alt="Screenshot" src="../img/zz_data_def.png" /></p>
<h2 id="remove-a-change-number-from-magic-npr">Remove a change number from MAGIC NPR</h2>
<ol>
<li><code>OPEN NPR</code></li>
<li>Nil out @NPR.APPL.updates for the obsolete change number</li>
<li>Kill the child segments</li>
</ol>
<p>Example:</p>
<pre><code>OPEN NPR
&quot;&quot;^&amp;IA[&quot;ADM&quot;]R[5.64]UPD[300.01]
K(&amp;IA[&quot;ADM&quot;]R[5.64]UPD[300.01])
</code></pre>

<h2 id="get-a-list-of-procedures-for-a-change-number-from-the-front-end">Get a list of procedures for a change number from the front end</h2>
<pre><code>OPEN NPR
&quot;&lt;APPLICATION&gt;&quot;^ia
&quot;&lt;RELEASE&gt;&quot;^ir
&quot;&lt;CHANGE NUMBER&gt;&quot;^iaU
&quot;&quot;^qi^LF,N(iaU)N^#,DO{+(&amp;IA[ia]R[ir]UPD[iaU]D[qi],Y)^qi N(Y|0_._Y|1)^#,LF+1^LF,IF{LF=15 N(&quot;&lt;Enter&gt;&quot;)^#,#0,&quot;&quot;^LF}}
</code></pre>

<p>Example:</p>
<pre><code>&quot;MRI&quot;^ia
&quot;5.6&quot;^ir
&quot;305.5034&quot;^iaU
&quot;&quot;^qi^LF,N(iaU)N^#,DO{+(&amp;IA[ia]R[ir]UPD[iaU]D[qi],Y)^qi N(Y|0_._Y|1)^#,LF+1^LF,IF{LF=15 N(&quot;&lt;Enter&gt;&quot;)^#,#0,&quot;&quot;^LF}}
</code></pre>

<h2 id="job-off-a-procedure-from-the-front-end">Job off a procedure from the front end</h2>
<pre><code>%Z.bj.start(PGM_NAME,EXT_NAME,UP_TO_10_ARGS)
</code></pre>

<ul>
<li>Starts the background job. EXT_NAME is the string that will appear on the lock that is written for the procedure. You can enter anything there.</li>
</ul>
<pre><code>%Z.bj.end.job(EXT_NAME)
</code></pre>

<ul>
<li>Ends the job.</li>
</ul>
<pre><code>%Z.bj.check(EXT_NAME)
</code></pre>

<h2 id="convert-datetime-to-s0-format">Convert date/time to S(0) format</h2>
<pre><code>%Z.date.time.to.seconds(&lt;YYYYMMDD&gt;,&lt;HHMM&gt;)
</code></pre>

<p>Example:</p>
<pre><code>%Z.date.time.to.seconds(20150330,0857) = 1106989020
</code></pre>

<h2 id="open-command-return-values">Open Command Return Values</h2>
<p>Syntax: <code>O(prefix,structure)</code></p>
<table>
<thead>
<tr>
<th>Value</th>
<th>File type</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Sequential Access File (SAF)</td>
</tr>
<tr>
<td>1</td>
<td>Random Access File (RAF)</td>
</tr>
<tr>
<td>8</td>
<td>Sequential Access Directory (SAD)</td>
</tr>
<tr>
<td>9</td>
<td>Random Access Directory (RAD)</td>
</tr>
</tbody>
</table>
<h2 id="access-t-error-log-from-zfec">Access $T Error Log from %Z.fec</h2>
<pre><code>$FE.ERR.VIEW(&quot;&quot;)
</code></pre>

<h2 id="find-large-spool-files-in-mis">Find large spool files in MIS</h2>
<pre><code>OPEN MIS
&quot;&quot;^X^CT,500^PG,DO{+(*GXA[X],Y)^X IF{PG&lt;Y|11 CT+1^CT,N(&quot;Spool file&quot;,X,&quot;-&quot;,Y|11,&quot;pages&quot;)N(&quot; -&gt;&quot;,IF{Y|1;&quot;[No Title]&quot;})^#}},NN(CT,&quot;records with over&quot;,PG,&quot;pages.&quot;)^#
</code></pre>

<p>Replace <code>500^PG</code> with the minimum number of spool report pages you want to count.</p>
<h2 id="firewall-tests-from-the-front-end">Firewall tests from the front end</h2>
<pre><code>%VPN.TEST(&quot;&quot;)
</code></pre>

<h2 id="print-to-screen-to-prevent-timeout">Print to screen to prevent timeout</h2>
<p>Add this to a loop to prevent timing out, which will write a period to the screen every ten seconds (remember to initialize S):</p>
<pre><code>IF{S(0)&gt;S .^#,S(0)+10^S},
</code></pre>

<h2 id="read-list-of-values-one-per-line-from-a-local-file-into-slash">Read list of values (one per line) from a local file into slash</h2>
<p>MAGIC:</p>
<pre><code>%Z.dos.read(&quot;&lt;FILE NAME&gt;&quot;,^/&lt;STRUCTURE&gt;,&quot;&quot;,1)
</code></pre>

<p>CS:</p>
<pre><code class="cs">%Z.win.file.open(&quot;&quot;)^PATH,
O(!(FILE),PATH),
0^CT,DO{!(FILE)T^R {R#0A,R#2A}^/READ[CT+1^CT]}
</code></pre>

<h2 id="convert-number-from-one-base-to-another">Convert number from one base to another</h2>
<pre><code>$RADIX(&lt;NUMBER TO CONVERT&gt;,&lt;BASE OF NUMBER&gt;,&lt;BASE TO CONVERT TO&gt;)
</code></pre>

<p>Example:</p>
<pre><code>$RADIX(15,10,16) = 000F
</code></pre>

<h2 id="efficient-forms-of-or-and-and">Efficient forms of OR and AND</h2>
<p>Using the OR (!) and AND (&amp;) operators are generally inefficient because they do not use short-circuit evaluation.</p>
<p><strong>OR:</strong> Use a nested <code>IF</code> statement</p>
<p>Example: if <code>A</code> or <code>B</code> or <code>C</code>, <code>DO.THINGS</code>:</p>
<pre><code>IF{IF{A;B;C} @DO.THINGS}
</code></pre>

<p><strong>NOR:</strong> Same as OR but use <em>else</em>, or wrap OR inside a <code>@Not</code></p>
<p>Example: if not (<code>A</code> or <code>B</code> or <code>C</code>), <code>DO.THINGS</code>:</p>
<pre><code>IF{IF{A;B;C};
   @DO.THINGS}

IF{@Not(IF{A;B;C}) @DO.THINGS}
</code></pre>

<p><strong>AND:</strong> Use <strong>else</strong> statements and test using negated statements</p>
<p>Example: if <code>A</code> and <code>B</code> and <code>C</code>, <code>DO.THINGS</code>:</p>
<pre><code>IF{@Not(A);
   @Not(B);
   @Not(C);
   @DO.THINGS}
</code></pre>

<ul>
<li>Always try to order the operands from most to least likely to be true.</li>
<li>Be careful when refactoring control statements within existing code--there are various "hacks" using control statements to hold specific values in variables.</li>
</ul>
<h2 id="using-link-in-magic">Using @Link in MAGIC</h2>
<p><code>@Link</code> is a macro used to open an application's prefixes in a procedure.</p>
<p>Usage:</p>
<pre><code>@Link([prefix],[application],[logical file name],&quot;[database]&quot;)
</code></pre>

<ul>
<li>Quotation marks are optional for the first three arguments</li>
</ul>
<p>You can find the logical file name of the RAF you want to open to in the View Application routine in NPR. Database can be hardcoded or found in the main application's dictionary.</p>
<p>Example:</p>
<pre><code>@Link(!,ABS,patient.file,&quot;ABS.LVW&quot;)
</code></pre>

<p><strong>NOTE:</strong> If you are linking a RAF to a different prefix than the one defined in NPR, you need to use the <code>@Chg.prefix</code> macro which tells the translator to reference the new prefix when accessing the RAF.</p>
<p>Usage:</p>
<pre><code>@Chg.prefix([DPM],[defined prefix],[prefix opened in @Link])
</code></pre>

<p>Using the ABS example above: Without <code>@Chg.prefix</code>, @ABS.PAT.account.number translates to <code>:DZ[dz]|2</code>, which is likely open to another prefix at this point. Calling <code>@Chg.prefix</code> will cause all subsequent references of @ABS.PAT.account.number to translate to <code>!DZ[dz]|2</code> instead.</p>
<pre><code>@Link(!,ABS,patient.file,&quot;ABS.LVW&quot;)
@Chg.prefix(ABS.PAT,:,!)
</code></pre>

<h2 id="physical-vs-logical-nexting">Physical vs Logical nexting</h2>
<table>
<thead>
<tr>
<th>Function</th>
<th>Operator</th>
</tr>
</thead>
<tbody>
<tr>
<td>Physical next</td>
<td>&gt;</td>
</tr>
<tr>
<td>Physical prev</td>
<td>&lt;</td>
</tr>
<tr>
<td>Logical next</td>
<td>+</td>
</tr>
<tr>
<td>Logical prev</td>
<td>-</td>
</tr>
</tbody>
</table>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../debugging/" title="Debugging" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Debugging
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>